
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Async wrapper in python for the spotify api" name="description"/>
<link href="https://huiibuh.github.io/AsyncSpotify/public_api/spotify_api_client/" rel="canonical"/>
<link href="https://upload.wikimedia.org/wikipedia/commons/9/9b/Font_Awesome_5_brands_spotify.svg" rel="shortcut icon"/>
<meta content="mkdocs-1.1, mkdocs-material-5.1.3" name="generator"/>
<title>Spotify Api Client - Async Spotify</title>
<link href="../../assets/stylesheets/main.62d34fff.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../../custom.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#async_spotify.api.spotify_api_client">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Async Spotify" class="md-header-nav__button md-logo" href="https://huiibuh.github.io/AsyncSpotify/" title="Async Spotify">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.9,10.9C14.7,9 9.35,8.8 6.3,9.75C5.8,9.9 5.3,9.6 5.15,9.15C5,8.65 5.3,8.15 5.75,8C9.3,6.95 15.15,7.15 18.85,9.35C19.3,9.6 19.45,10.2 19.2,10.65C18.95,11 18.35,11.15 17.9,10.9M17.8,13.7C17.55,14.05 17.1,14.2 16.75,13.95C14.05,12.3 9.95,11.8 6.8,12.8C6.4,12.9 5.95,12.7 5.85,12.3C5.75,11.9 5.95,11.45 6.35,11.35C10,10.25 14.5,10.8 17.6,12.7C17.9,12.85 18.05,13.35 17.8,13.7M16.6,16.45C16.4,16.75 16.05,16.85 15.75,16.65C13.4,15.2 10.45,14.9 6.95,15.7C6.6,15.8 6.3,15.55 6.2,15.25C6.1,14.9 6.35,14.6 6.65,14.5C10.45,13.65 13.75,14 16.35,15.6C16.7,15.75 16.75,16.15 16.6,16.45M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Async Spotify
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Spotify Api Client
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/HuiiBuh/AsyncSpotify/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path></svg>
</div>
<div class="md-source__repository">
    HuiiBuh/AsyncSpotify
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Async Spotify" class="md-nav__button md-logo" href="https://huiibuh.github.io/AsyncSpotify/" title="Async Spotify">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.9,10.9C14.7,9 9.35,8.8 6.3,9.75C5.8,9.9 5.3,9.6 5.15,9.15C5,8.65 5.3,8.15 5.75,8C9.3,6.95 15.15,7.15 18.85,9.35C19.3,9.6 19.45,10.2 19.2,10.65C18.95,11 18.35,11.15 17.9,10.9M17.8,13.7C17.55,14.05 17.1,14.2 16.75,13.95C14.05,12.3 9.95,11.8 6.8,12.8C6.4,12.9 5.95,12.7 5.85,12.3C5.75,11.9 5.95,11.45 6.35,11.35C10,10.25 14.5,10.8 17.6,12.7C17.9,12.85 18.05,13.35 17.8,13.7M16.6,16.45C16.4,16.75 16.05,16.85 15.75,16.65C13.4,15.2 10.45,14.9 6.95,15.7C6.6,15.8 6.3,15.55 6.2,15.25C6.1,14.9 6.35,14.6 6.65,14.5C10.45,13.65 13.75,14 16.35,15.6C16.7,15.75 16.75,16.15 16.6,16.45M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></svg>
</a>
    Async Spotify
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/HuiiBuh/AsyncSpotify/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2.6,10.59L8.38,4.8L10.07,6.5C9.83,7.35 10.22,8.28 11,8.73V14.27C10.4,14.61 10,15.26 10,16A2,2 0 0,0 12,18A2,2 0 0,0 14,16C14,15.26 13.6,14.61 13,14.27V9.41L15.07,11.5C15,11.65 15,11.82 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10C16.82,10 16.65,10 16.5,10.07L13.93,7.5C14.19,6.57 13.71,5.55 12.78,5.16C12.35,5 11.9,4.96 11.5,5.07L9.8,3.38L10.59,2.6C11.37,1.81 12.63,1.81 13.41,2.6L21.4,10.59C22.19,11.37 22.19,12.63 21.4,13.41L13.41,21.4C12.63,22.19 11.37,22.19 10.59,21.4L2.6,13.41C1.81,12.63 1.81,11.37 2.6,10.59Z"></path></svg>
</div>
<div class="md-source__repository">
    HuiiBuh/AsyncSpotify
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../EXAMPLES/" title="Examples">
      Examples
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Public API
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></svg>
</span>
</label>
<nav aria-label="Public API" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</span>
        Public API
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Spotify Api Client
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="Spotify Api Client">
      Spotify Api Client
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client">
    async_spotify.api.spotify_api_client
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient">
    SpotifyApiClient
  </a>
<nav aria-label="SpotifyApiClient" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.albums">
    albums
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.artists">
    artists
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.browse">
    browse
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.episodes">
    episodes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.follow">
    follow
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.hold_authentication">
    hold_authentication
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.library">
    library
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.personalization">
    personalization
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.player">
    player
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.playlists">
    playlists
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.search">
    search
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.shows">
    shows
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.spotify_authorization_token">
    spotify_authorization_token
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.track">
    track
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.user">
    user
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.build_authorization_url">
    build_authorization_url()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.close_client">
    close_client()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.create_new_client">
    create_new_client()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.get_auth_token_with_code">
    get_auth_token_with_code()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.get_code_with_cookie">
    get_code_with_cookie()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.next">
    next()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.open_oauth_dialog_in_browser">
    open_oauth_dialog_in_browser()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.previous">
    previous()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.refresh_token">
    refresh_token()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../preferences/" title="Preferences">
      Preferences
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../authentification/" title="Authentification">
      Authentification
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../spotify_errors/" title="Spotify Errors">
      Spotify Errors
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-5" id="nav-3-5" type="checkbox"/>
<label class="md-nav__link" for="nav-3-5">
      Endpoints
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></svg>
</span>
</label>
<nav aria-label="Endpoints" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-3-5">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</span>
        Endpoints
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/albums/" title="Albums">
      Albums
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/artists/" title="Artists">
      Artists
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/browse/" title="Browse">
      Browse
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/episodes/" title="Episodes">
      Episodes
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/follow/" title="Follow">
      Follow
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/library/" title="Library">
      Library
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/personalization/" title="Personalization">
      Personalization
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/player/" title="Player">
      Player
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/playlists/" title="Playlists">
      Playlists
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/search/" title="Search">
      Search
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/shows/" title="Shows">
      Shows
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/tracks/" title="Tracks">
      Tracks
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/user/" title="User">
      User
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      Private API
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></svg>
</span>
</label>
<nav aria-label="Private API" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</span>
        Private API
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../private_api/error_message/" title="Error Message">
      Error Message
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../private_api/request_handler/" title="Request Handler">
      Request Handler
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../private_api/status_classes/" title="Status Classes">
      Status Classes
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../private_api/url/" title="URLS">
      URLS
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../STUFF/" title="Tests">
      Tests
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../LICENCE/" title="Licence">
      Licence
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client">
    async_spotify.api.spotify_api_client
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient">
    SpotifyApiClient
  </a>
<nav aria-label="SpotifyApiClient" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.albums">
    albums
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.artists">
    artists
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.browse">
    browse
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.episodes">
    episodes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.follow">
    follow
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.hold_authentication">
    hold_authentication
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.library">
    library
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.personalization">
    personalization
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.player">
    player
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.playlists">
    playlists
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.search">
    search
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.shows">
    shows
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.spotify_authorization_token">
    spotify_authorization_token
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.track">
    track
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.user">
    user
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.build_authorization_url">
    build_authorization_url()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.close_client">
    close_client()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.create_new_client">
    create_new_client()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.get_auth_token_with_code">
    get_auth_token_with_code()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.get_code_with_cookie">
    get_code_with_cookie()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.next">
    next()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.open_oauth_dialog_in_browser">
    open_oauth_dialog_in_browser()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.previous">
    previous()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.refresh_token">
    refresh_token()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/HuiiBuh/AsyncSpotify/edit/master/docs/public_api/spotify_api_client.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"></path></svg>
</a>
<h1>Spotify Api Client</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" href="#async_spotify.api.spotify_api_client" id="async_spotify.api.spotify_api_client" style="visibility: hidden; width: 0; height: 0;">
<a class="headerlink" href="#async_spotify.api.spotify_api_client" title="Permanent link">¶</a></h2>
<div class="doc doc-contents first">
<p>The main api class which will be used to authenticate and connect to the spotify api</p>
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient">
<code>SpotifyApiClient</code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>The main api class which will be used to authenticate and connect to the spotify api.
Use this class to authenticate and connect to the spotify api.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.albums">
<code class="highlight">
albums: <span class="n">Albums</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.albums" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/albums/#async_spotify.api._endpoints.albums"><code>Albums</code></a> class. Use this to access the 
        Albums api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.artists">
<code class="highlight">
artists: <span class="n">Artists</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.artists" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/artists/#async_spotify.api._endpoints.artists"><code>Artists</code></a> class. Use this to access the 
        Artists api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.browse">
<code class="highlight">
browse: <span class="n">Browse</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.browse" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/browse/#async_spotify.api._endpoints.browse"><code>Browse</code></a> class. Use this to Browse the 
       Browse api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.episodes">
<code class="highlight">
episodes: <span class="n">Episodes</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.episodes" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/episodes/#async_spotify.api._endpoints.episodes"><code>Episodes</code></a> class. Use this to access the 
        Episodes api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.follow">
<code class="highlight">
follow: <span class="n">Follow</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.follow" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/follow/#async_spotify.api._endpoints.follow"><code>Follow</code></a> class. Use this to access the 
        Follow api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.hold_authentication">
<code class="highlight">
hold_authentication: <span class="nb">bool</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-writable"><code>writable</code></small>
</span>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.hold_authentication" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bool</code></td>
<td>
<p>The hold_authentication property of the spotify api client class</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.library">
<code class="highlight">
library: <span class="n">Library</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.library" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/library/#async_spotify.api._endpoints.library"><code>Library</code></a> class. Use this to access the 
        Library api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.personalization">
<code class="highlight">
personalization: <span class="n">Personalization</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.personalization" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/personalization/#async_spotify.api._endpoints.personalization"><code>Personalization</code></a> class. Use this to 
       access the Personalization api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.player">
<code class="highlight">
player: <span class="n">Player</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.player" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/player/#async_spotify.api._endpoints.player"><code>Player</code></a> class. Use this to access the 
        Player api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.playlists">
<code class="highlight">
playlists: <span class="n">Playlists</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.playlists" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/playlists/#async_spotify.api._endpoints.playlists"><code>Playlists</code></a> class. Use this to access the 
        Playlist api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.search">
<code class="highlight">
search: <span class="n">Search</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.search" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/search/#async_spotify.api._endpoints.search"><code>Search</code></a> class. Use this to access the 
        Search api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.shows">
<code class="highlight">
shows: <span class="n">Shows</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.shows" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/shows/#async_spotify.api._endpoints.shows"><code>Shows</code></a> class. Use this to access the 
        Show api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.spotify_authorization_token">
<code class="highlight">
spotify_authorization_token: <span class="n">SpotifyAuthorisationToken</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-writable"><code>writable</code></small>
</span>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.spotify_authorization_token" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SpotifyAuthorisationToken</code></td>
<td>
<p>The SpotifyAuthorisationToken of the api class</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.track">
<code class="highlight">
track: <span class="n">Track</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.track" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/tracks/#async_spotify.api._endpoints.tracks"><code>Track</code></a> class. Use this to access the 
        Track api </p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.user">
<code class="highlight">
user: <span class="n">User</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.user" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>An instance of the <a href="https://huiibuh.github.io/AsyncSpotify/public_api/endpoints/user/#async_spotify.api._endpoints.user"><code>User</code></a> class. Use this to access the 
        User api </p>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preferences</span><span class="p">,</span> <span class="n">hold_authentication</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">spotify_authorisation_token</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.__init__" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Create a new api class</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>preferences</code></td>
<td><code>Preferences</code></td>
<td>
<p>The preferences object fully filled with information</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>hold_authentication</code></td>
<td><code></code></td>
<td>
<p>Should the api keep the authentication im memory and refresh it automatically</p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span> 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preferences</span><span class="p">:</span> <span class="n">Preferences</span><span class="p">,</span> <span class="n">hold_authentication</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
             <span class="n">spotify_authorisation_token</span><span class="p">:</span> <span class="n">SpotifyAuthorisationToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Create a new api class</span>

<span class="sd">    Args:</span>
<span class="sd">        preferences: The preferences object fully filled with information</span>
<span class="sd">        hold_authentication: Should the api keep the authentication im memory and refresh it automatically</span>
<span class="sd">    """</span>

    <span class="c1"># Check if the preferences are valid</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">preferences</span><span class="o">.</span><span class="n">valid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">SpotifyError</span><span class="p">(</span><span class="n">ErrorMessage</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">"The preferences of your app are not correct"</span><span class="p">)</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>

    <span class="c1"># Set the preferences</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">:</span> <span class="n">Preferences</span> <span class="o">=</span> <span class="n">preferences</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_hold_authentication</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">hold_authentication</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="p">:</span> <span class="n">SpotifyAuthorisationToken</span> <span class="o">=</span> <span class="n">SpotifyAuthorisationToken</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">spotify_authorisation_token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spotify_authorization_token</span> <span class="o">=</span> <span class="n">spotify_authorisation_token</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">:</span> <span class="n">ApiRequestHandler</span> <span class="o">=</span> <span class="n">ApiRequestHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">albums</span><span class="p">:</span> <span class="n">Albums</span> <span class="o">=</span> <span class="n">Albums</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Albums`][async_spotify.api._endpoints.albums] class. Use this to access the </span>
<span class="sd">     Albums api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">artists</span><span class="p">:</span> <span class="n">Artists</span> <span class="o">=</span> <span class="n">Artists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Artists`][async_spotify.api._endpoints.artists] class. Use this to access the </span>
<span class="sd">     Artists api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">browse</span><span class="p">:</span> <span class="n">Browse</span> <span class="o">=</span> <span class="n">Browse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Browse`][async_spotify.api._endpoints.browse] class. Use this to Browse the </span>
<span class="sd">    Browse api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">episodes</span><span class="p">:</span> <span class="n">Episodes</span> <span class="o">=</span> <span class="n">Episodes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Episodes`][async_spotify.api._endpoints.episodes] class. Use this to access the </span>
<span class="sd">     Episodes api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">follow</span><span class="p">:</span> <span class="n">Follow</span> <span class="o">=</span> <span class="n">Follow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Follow`][async_spotify.api._endpoints.follow] class. Use this to access the </span>
<span class="sd">     Follow api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">library</span><span class="p">:</span> <span class="n">Library</span> <span class="o">=</span> <span class="n">Library</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Library`][async_spotify.api._endpoints.library] class. Use this to access the </span>
<span class="sd">     Library api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">personalization</span><span class="p">:</span> <span class="n">Personalization</span> <span class="o">=</span> <span class="n">Personalization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Personalization`][async_spotify.api._endpoints.personalization] class. Use this to </span>
<span class="sd">    access the Personalization api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">:</span> <span class="n">Player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Player`][async_spotify.api._endpoints.player] class. Use this to access the </span>
<span class="sd">     Player api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">playlists</span><span class="p">:</span> <span class="n">Playlists</span> <span class="o">=</span> <span class="n">Playlists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Playlists`][async_spotify.api._endpoints.playlists] class. Use this to access the </span>
<span class="sd">     Playlist api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">:</span> <span class="n">Search</span> <span class="o">=</span> <span class="n">Search</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Search`][async_spotify.api._endpoints.search] class. Use this to access the </span>
<span class="sd">     Search api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">shows</span><span class="p">:</span> <span class="n">Shows</span> <span class="o">=</span> <span class="n">Shows</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Shows`][async_spotify.api._endpoints.shows] class. Use this to access the </span>
<span class="sd">     Show api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">:</span> <span class="n">Track</span> <span class="o">=</span> <span class="n">Track</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`Track`][async_spotify.api._endpoints.tracks] class. Use this to access the </span>
<span class="sd">     Track api """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="p">)</span>
    <span class="sd">""" An instance of the [`User`][async_spotify.api._endpoints.user] class. Use this to access the </span>
<span class="sd">     User api """</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.build_authorization_url">
<code class="highlight language-python">
build_authorization_url<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_dialog</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.build_authorization_url" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Builds the URL for the authorisation</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>state</code></td>
<td><code>str</code></td>
<td>
<p>State of the authorization</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>show_dialog</code></td>
<td><code>bool</code></td>
<td>
<p>Should the spotify auth dialog be shown</p>
</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str</code></td>
<td>
<p>The encoded url which can be used to authorize a new or existing user</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">build_authorization_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_dialog</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Builds the URL for the authorisation</span>

<span class="sd">    Args:</span>
<span class="sd">        state: State of the authorization</span>
<span class="sd">        show_dialog: Should the spotify auth dialog be shown</span>

<span class="sd">    Returns:</span>
<span class="sd">        The encoded url which can be used to authorize a new or existing user</span>
<span class="sd">    """</span>

    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"client_id"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">application_id</span><span class="p">,</span>
        <span class="s2">"response_type"</span><span class="p">:</span> <span class="s2">"code"</span><span class="p">,</span>
        <span class="s2">"scope"</span><span class="p">:</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">scopes</span><span class="p">),</span>
        <span class="s2">"show_dialog"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">show_dialog</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
        <span class="s2">"redirect_uri"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">redirect_url</span><span class="si">}</span><span class="s2">"</span>
    <span class="p">}</span>

    <span class="c1"># Check if a state is required</span>
    <span class="k">if</span> <span class="n">state</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">"state"</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">"</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">URLS</span><span class="o">.</span><span class="n">AUTHORIZE</span><span class="si">}</span><span class="s2">?</span><span class="si">{</span><span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.close_client">
<code class="highlight language-python">
close_client<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.close_client" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Close the current client session. You have to create a new one to connect again to spotify.
This method should always be called before you end your program</p>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>144
145
146
147
148
149
150</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">close_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Close the current client session. You have to create a new one to connect again to spotify.</span>
<span class="sd">    This method should always be called before you end your program</span>
<span class="sd">    """</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="o">.</span><span class="n">close_client</span><span class="p">()</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.create_new_client">
<code class="highlight language-python">
create_new_client<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request_timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">request_limit</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.create_new_client" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Create a new session which will be used to connect to the spotify api.
In general this only has to be called once after you create a new API object.
You can however call this method if you want ot update the client settings (more requests, ...)
This will however close all ongoing requests.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>request_timeout</code></td>
<td><code>int</code></td>
<td>
<p>How long should be waited for a request (default 30s) (None for no limit)</p>
</td>
<td><code>30</code></td>
</tr>
<tr>
<td><code>request_limit</code></td>
<td><code>int</code></td>
<td>
<p>How many requests should be allowed (default 500)</p>
</td>
<td><code>500</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">create_new_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="n">request_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">500</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Create a new session which will be used to connect to the spotify api.</span>
<span class="sd">    In general this only has to be called once after you create a new API object.</span>
<span class="sd">    You can however call this method if you want ot update the client settings (more requests, ...)</span>
<span class="sd">    This will however close all ongoing requests.</span>

<span class="sd">    Args:</span>
<span class="sd">        request_timeout: How long should be waited for a request (default 30s) (None for no limit)</span>
<span class="sd">        request_limit: How many requests should be allowed (default 500)</span>
<span class="sd">    """</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="o">.</span><span class="n">create_new_client</span><span class="p">(</span><span class="n">request_timeout</span><span class="p">,</span> <span class="n">request_limit</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.get_auth_token_with_code">
<code class="highlight language-python">
get_auth_token_with_code<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.get_auth_token_with_code" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Get the auth token with the code returned by the oauth process.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td><code>str</code></td>
<td>
<p>The code returned by spotify in the oauth process</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<div class="admonition notes">
<p class="admonition-title">Notes</p>
<p><a href="https://developer.spotify.com/documentation/general/guides/authorization-guide/#authorization-code-flow">https://developer.spotify.com/documentation/general/guides/authorization-guide/#authorization-code-flow</a></p>
</div>
<p><strong>Exceptions:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SpotifyError</code></td>
<td>
<p>If the request to the refresh api point was not successful</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SpotifyAuthorisationToken</code></td>
<td>
<p>A valid SpotifyAuthorisationToken</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_auth_token_with_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SpotifyAuthorisationToken</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Get the auth token with the code returned by the oauth process.</span>

<span class="sd">    Args:</span>
<span class="sd">        code: The code returned by spotify in the oauth process</span>

<span class="sd">    Notes:</span>
<span class="sd">        [https://developer.spotify.com/documentation/general/guides/authorization-guide/#authorization-code-flow](https://developer.spotify.com/documentation/general/guides/authorization-guide/#authorization-code-flow)</span>

<span class="sd">    Raises:</span>
<span class="sd">        SpotifyError: If the request to the refresh api point was not successful</span>

<span class="sd">    Returns:</span>
<span class="sd">        A valid SpotifyAuthorisationToken</span>
<span class="sd">    """</span>

    <span class="n">body</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'grant_type'</span><span class="p">:</span> <span class="s1">'authorization_code'</span><span class="p">,</span>
        <span class="s1">'code'</span><span class="p">:</span> <span class="n">code</span><span class="p">,</span>
        <span class="s1">'redirect_uri'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">redirect_url</span>
    <span class="p">}</span>

    <span class="n">response_json</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_auth_api_request</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

    <span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s1">'refresh_token'</span><span class="p">]</span>
    <span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s1">'access_token'</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="o">.</span><span class="n">activation_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="n">access_token</span>

    <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.get_code_with_cookie">
<code class="highlight language-python">
get_code_with_cookie<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookies</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.get_code_with_cookie" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>This function takes care of the user interaction that is normally required to get the code from spotify
which is necessary to request the refresh_token and the oauth_token.
The token which is returned by this function has to be passed to API.get_auth_token_with_code(code)
to get the refresh_token and the oauth_token.
The big advantage is that you don't have to run a callback server to get the code</p>
<div class="admonition notes">
<p class="admonition-title">Notes</p>
<p>This will only work if the user has at least once accepted the scopes your app is requesting.
I would recommend that you take a look at the source code of this function before you use it and that you
are familiar with the authorization mechanism of spotify.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This method is intended for automated testing. You have to decide if you want to use it in you production
environment.</p>
</div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cookies</code></td>
<td><code>SpotifyCookie</code></td>
<td>
<p>The cookies of the spotify account. Every property of the class has to be filled in.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SpotifyError</code></td>
<td>
<p>If the cookie is not valid</p>
</td>
</tr>
<tr>
<td><code>SpotifyError</code></td>
<td>
<p>If there is a redirect between you and spotify</p>
</td>
</tr>
<tr>
<td><code>SpotifyError</code></td>
<td>
<p>If there is an unknown error</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str</code></td>
<td>
<p>The spotify code which can be used to get a refresh_token and a oauth_token</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_code_with_cookie</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookies</span><span class="p">:</span> <span class="n">SpotifyCookie</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    This function takes care of the user interaction that is normally required to get the code from spotify</span>
<span class="sd">    which is necessary to request the refresh_token and the oauth_token.</span>
<span class="sd">    The token which is returned by this function has to be passed to API.get_auth_token_with_code(code)</span>
<span class="sd">    to get the refresh_token and the oauth_token.</span>
<span class="sd">    The big advantage is that you don't have to run a callback server to get the code</span>

<span class="sd">    Notes:</span>
<span class="sd">        This will only work if the user has at least once accepted the scopes your app is requesting.</span>
<span class="sd">        I would recommend that you take a look at the source code of this function before you use it and that you</span>
<span class="sd">        are familiar with the authorization mechanism of spotify.</span>

<span class="sd">    Important:</span>
<span class="sd">        This method is intended for automated testing. You have to decide if you want to use it in you production</span>
<span class="sd">        environment.</span>

<span class="sd">    Args:</span>
<span class="sd">        cookies: The cookies of the spotify account. Every property of the class has to be filled in.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SpotifyError: If the cookie is not valid</span>
<span class="sd">        SpotifyError: If there is a redirect between you and spotify</span>
<span class="sd">        SpotifyError: If there is an unknown error</span>

<span class="sd">    Returns:</span>
<span class="sd">        The spotify code which can be used to get a refresh_token and a oauth_token</span>
<span class="sd">    """</span>

    <span class="c1"># Build the auth url</span>
    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_authorization_url</span><span class="p">(</span><span class="n">show_dialog</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Check if the cookie file is valid</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">cookies</span><span class="o">.</span><span class="n">valid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">SpotifyError</span><span class="p">(</span><span class="n">ErrorMessage</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s1">'The cookies are not complete'</span><span class="p">)</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>

    <span class="c1"># Convert the class to a dict</span>
    <span class="n">cookie_dict</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="n">cookies</span><span class="o">.</span><span class="vm">__dict__</span>

    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_track_request_without_callback</span><span class="p">(</span><span class="n">cookie_dict</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.next">
<code class="highlight language-python">
next<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">auth_token</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.next" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Get the next 'page' of the response</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td><code>str</code></td>
<td>
<p>The next url</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>auth_token</code></td>
<td><code>SpotifyAuthorisationToken</code></td>
<td>
<p>The auth token if you set the api class not to keep the token in memory</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dict</code></td>
<td>
<p>The api response</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>395
396
397
398
399
400
401
402
403
404
405
406
407</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">auth_token</span><span class="p">:</span> <span class="n">SpotifyAuthorisationToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Get the next 'page' of the response</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The next url</span>
<span class="sd">        auth_token: The auth token if you set the api class not to keep the token in memory</span>

<span class="sd">    Returns:</span>
<span class="sd">        The api response</span>
<span class="sd">    """</span>

    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="p">{},</span> <span class="n">auth_token</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.open_oauth_dialog_in_browser">
<code class="highlight language-python">
open_oauth_dialog_in_browser<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_dialogue</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.open_oauth_dialog_in_browser" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Open the url in browser
Only for testing purposes or the usage of this library in a desktop app</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>show_dialogue</code></td>
<td><code>bool</code></td>
<td>
<p>Should the spotify auth dialog be shown</p>
</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>178
179
180
181
182
183
184
185
186
187
188</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">open_oauth_dialog_in_browser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_dialogue</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Open the url in browser</span>
<span class="sd">    Only for testing purposes or the usage of this library in a desktop app</span>

<span class="sd">    Args:</span>
<span class="sd">        show_dialogue: Should the spotify auth dialog be shown</span>
<span class="sd">    """</span>

    <span class="c1"># Open url in a new window of the default browser, if possible</span>
    <span class="n">webbrowser</span><span class="o">.</span><span class="n">open_new</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">build_authorization_url</span><span class="p">(</span><span class="n">show_dialogue</span><span class="p">))</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.previous">
<code class="highlight language-python">
previous<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">auth_token</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.previous" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Get the next 'previous' of the response</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td><code>str</code></td>
<td>
<p>The previous url</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>auth_token</code></td>
<td><code>SpotifyAuthorisationToken</code></td>
<td>
<p>The auth token if you set the api class not to keep the token in memory</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dict</code></td>
<td>
<p>The api response</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>409
410
411
412
413
414
415
416
417
418
419
420
421</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">previous</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">auth_token</span><span class="p">:</span> <span class="n">SpotifyAuthorisationToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Get the next 'previous' of the response</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The previous url</span>
<span class="sd">        auth_token: The auth token if you set the api class not to keep the token in memory</span>

<span class="sd">    Returns:</span>
<span class="sd">        The api response</span>
<span class="sd">    """</span>

    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_request_handler</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="p">{},</span> <span class="n">auth_token</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="async_spotify.api.spotify_api_client.SpotifyApiClient.refresh_token">
<code class="highlight language-python">
refresh_token<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_token</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#async_spotify.api.spotify_api_client.SpotifyApiClient.refresh_token" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Refresh the auth token with the refresh token or get a new auth token and refresh token with the code returned
by the spotify auth flow.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>auth_token</code></td>
<td><code>SpotifyAuthorisationToken</code></td>
<td>
<p>The refresh token or the code returned by the spotify auth flow. Leave empty if you enabled hold_authentication. Then the internal token will be used.</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<div class="admonition notes">
<p class="admonition-title">Notes</p>
<p>https://developer.spotify.com/documentation/general/guides/authorization-guide/#authorization-code-flow</p>
</div>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SpotifyAuthorisationToken</code></td>
<td>
<p>The SpotifyAuthorisationToken</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>async_spotify/api/spotify_api_client.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">refresh_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_token</span><span class="p">:</span> <span class="n">SpotifyAuthorisationToken</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SpotifyAuthorisationToken</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Refresh the auth token with the refresh token or get a new auth token and refresh token with the code returned</span>
<span class="sd">    by the spotify auth flow.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_token: The refresh token or the code returned by the spotify auth flow. Leave empty if you enabled</span>
<span class="sd">            hold_authentication. Then the internal token will be used.</span>

<span class="sd">    Notes:</span>
<span class="sd">        https://developer.spotify.com/documentation/general/guides/authorization-guide/#authorization-code-flow</span>

<span class="sd">    Returns:</span>
<span class="sd">        The SpotifyAuthorisationToken</span>
<span class="sd">    """</span>

    <span class="c1"># Check if the internal auth token should be used</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">auth_token</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hold_authentication</span><span class="p">:</span>
        <span class="n">auth_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span>

    <span class="n">body</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'grant_type'</span><span class="p">:</span> <span class="s1">'refresh_token'</span><span class="p">,</span>
        <span class="s1">'refresh_token'</span><span class="p">:</span> <span class="n">auth_token</span><span class="o">.</span><span class="n">refresh_token</span>
    <span class="p">}</span>

    <span class="n">response_json</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_auth_api_request</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

    <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">auth_token</span><span class="o">.</span><span class="n">refresh_token</span>
    <span class="n">access_token</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s1">'access_token'</span><span class="p">]</span>

    <span class="c1"># Keep the auth token in memory</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="o">.</span><span class="n">refresh_token</span> <span class="o">=</span> <span class="n">refresh_token</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="o">.</span><span class="n">activation_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="n">access_token</span>

    <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_spotify_authorisation_token</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<hr/>
<div class="md-source-date">
<small>
    
      Last update: April 11, 2020
    
  </small>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../../EXAMPLES/" rel="prev" title="Examples">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Examples
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../preferences/" rel="next" title="Preferences">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Preferences
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="https://github.com/huiibuh" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 480 512" xmlns="http://www.w3.org/2000/svg"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.f81b9e8b.min.js"></script>
<script src="../../assets/javascripts/bundle.23546af0.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>